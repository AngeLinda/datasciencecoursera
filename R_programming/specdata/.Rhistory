#
# data <- na.omit(csv_file)
# observations <- observations + nrow(data)
#
# if (pollutant <- "sulfate") {
#     select_data_sum <- select_data_sum + sum(data$sulfate)
# }
# if (pollutant <- "nitrate") {
#     select_data_sum <- select_data_sum + sum(data$nitrate)
# }
#
# select_data_sum/observations
# setwd("..")
}
pollutantmean("specdata", "sulfate", 1:10)
## rm(list = ls())
pollutantmean <- function(directory, pollutant, id = 1:332){
## directory : "specdata"
## pollutant : "sulfatpollutantmean("specdata", "sulfate", 1:10)e" or "nitrate"
## id : integer between 1 : 332
observations <- 0
select_data_sum <- 0
setwd(file.path("~/Desktop/R programming",directory))
id_format <- formatC(format = "d",id,flag = "0", width = 3) # width = ceiling(log10(max(id)))
# csv_file  <- read.csv(paste(id_format,".csv",sep = ""), header = TRUE)
#
# data <- na.omit(csv_file)
# observations <- observations + nrow(data)
#
# if (pollutant <- "sulfate") {
#     select_data_sum <- select_data_sum + sum(data$sulfate)
# }
# if (pollutant <- "nitrate") {
#     select_data_sum <- select_data_sum + sum(data$nitrate)
# }
#
# select_data_sum/observations
# setwd("..")
}
pollutantmean("specdata", "sulfate", 1:10)
pollutantmean <- function(directory, pollutant, id = 1:332){
## directory : "specdata"
## pollutant : "sulfatpollutantmean("specdata", "sulfate", 1:10)e" or "nitrate"
## id : integer between 1 : 332
observations <- 0
select_data_sum <- 0
setwd(file.path("~/Desktop/R programming",directory))
id_format <- formatC(format = "d",id,flag = "0", width = 3) # width = ceiling(log10(max(id)))
csv_file  <- read.csv(paste(id_format,".csv",sep = ""), header = TRUE)
#
# data <- na.omit(csv_file)
# observations <- observations + nrow(data)
#
# if (pollutant <- "sulfate") {
#     select_data_sum <- select_data_sum + sum(data$sulfate)
# }
# if (pollutant <- "nitrate") {
#     select_data_sum <- select_data_sum + sum(data$nitrate)
# }
#
# select_data_sum/observations
# setwd("..")
}
pollutantmean("specdata", "sulfate", 1:10)
id = 1
id_format <- formatC(format = "d",id,flag = "0", width = 3)
paste(id_format,".csv",sep = "")
csv_file  <- read.csv(paste(id_format,".csv",sep = ""), header = TRUE)
id = 2
id_format <- formatC(format = "d",id,flag = "0", width = 3)
csv_file  <- read.csv(paste(id_format,".csv",sep = ""), header = TRUE)
View(csv_file)
id = 3
id_format <- formatC(format = "d",id,flag = "0", width = 3)
> csv_file  <- read.csv(paste(id_format,".csv",sep = ""), header = TRUE)
id_format <- formatC(format = "d",id,flag = "0", width = 3)
csv_file  <- read.csv(paste(id_format,".csv",sep = ""), header = TRUE)
for (id = 1:10){
id_format <- formatC(format = "d",id,flag = "0", width = 3)
csv_file = read.csv(paste(id_format,".csv",sep = ""), header = TRUE)
}
id = 1:10
id_format <- formatC(format = "d",id,flag = "0", width = 3)
csv_file = read.csv(paste(id_format,".csv",sep = ""), header = TRUE)
?tail
id = 1:10
id_format <- formatC(format = "d",id,flag = "0", width = 3)
csv_file = read.csv(paste(id_format[id],".csv",sep = ""), header = TRUE)
rm(list = ls())
pollutantmean <- function(directory, pollutant, id = 1:332)
{
totsum = 0
totnum = 0
for (i in id)
{
poldata = read.csv(list.files(directory, full.names = TRUE)[i])
totsum = totsum + sum(poldata[[pollutant]], na.rm = TRUE)
totnum = totnum + sum(!is.na(poldata[[pollutant]]))
}
totsum / totnum
}
pollutantmean("specdata", "sulfate", 1:10)
directory = "specdata", pollutant = "sulfate", poldata = read.csv(list.files(directory, full.names = TRUE)[1]
directory = "specdata",
directory = "specdata"
pollutant = "sulfate"
poldata = read.csv(list.files(directory, full.names = TRUE)[1]
)
for id = 1:10
id_format <- formatC(format = "d",id,flag = "0", width = 3)
csv_file = read.csv(paste(id_format[id],".csv",sep = ""), header = TRUE)
id = 1:10
id_format <- formatC(format = "d",id,flag = "0", width = 3)
csv_file = read.csv(paste(id_format[id],".csv",sep = ""), header = TRUE)
id = 1:10
id_format <- formatC(format = "d",id[id],flag = "0", width = 3)
csv_file = read.csv(paste(id_format,".csv",sep = ""), header = TRUE)
rm(list = ls())
pollutantmean <- function(directory, pollutant, id = 1:332){
## directory : "specdata"
## pollutant : "sulfate" or "nitrate"
## id : integer between 1 : 332
observations <- 0
select_data_sum <- 0
setwd(file.path("~/Desktop/R programming",directory))
for (i in id){
id_format <- formatC(format = "d",i,flag = "0", width = 3) # width = ceiling(log10(max(id)))
csv_file  <- read.csv(paste(id_format,".csv",sep = ""), header = TRUE)
}
#
# data <- na.omit(csv_file)
# observations <- observations + nrow(data)
#
# if (pollutant <- "sulfate") {
#     select_data_sum <- select_data_sum + sum(data$sulfate)
# }
# if (pollutant <- "nitrate") {
#     select_data_sum <- select_data_sum + sum(data$nitrate)
# }
#
# select_data_sum/observations
# setwd("..")
}
rm(list = ls())
setwd(file.path("~/Desktop/R programming","specdata"))
id = 1:10
for (i in id){
id_format <- formatC(format = "d",i,flag = "0", width = 3)
csv_file = read.csv(paste(id_format,".csv",sep = ""), header = TRUE)
}
rm(list = ls())
pollutantmean <- function(directory, pollutant, id = 1:332){
## directory : "specdata"
## pollutant : "sulfate" or "nitrate"
## id : integer between 1 : 332
observations <- 0
select_data_sum <- 0
setwd(file.path("~/Desktop/R programming",directory))
for (i in id){
id_format <- formatC(format = "d",i,flag = "0", width = 3) # width = ceiling(log10(max(id)))
csv_file  <- read.csv(paste(id_format,".csv",sep = ""), header = TRUE)
}
data <- na.omit(csv_file)
observations <- observations + nrow(data)
if (pollutant <- "sulfate") {
select_data_sum <- select_data_sum + sum(data$sulfate)
}
if (pollutant <- "nitrate") {
select_data_sum <- select_data_sum + sum(data$nitrate)
}
select_data_sum/observations
setwd("..")
}
pollutantmean("specdata", "sulfate", 1:10)
rm(list = ls())
pollutantmean <- function(directory, pollutant, id = 1:332){
## directory : "specdata"
## pollutant : "sulfate" or "nitrate"
## id : integer between 1 : 332
observations <- 0
select_data_sum <- 0
setwd(file.path("~/Desktop/R programming",directory))
for (i in id){
id_format <- formatC(format = "d",i,flag = "0", width = 3) # width = ceiling(log10(max(id)))
csv_file  <- read.csv(paste(id_format,".csv",sep = ""), header = TRUE)
}
data <- na.omit(csv_file)
observations <- observations + nrow(data)
if (pollutant == "sulfate") {
select_data_sum <- select_data_sum + sum(data$sulfate)
}
if (pollutant == "nitrate") {
select_data_sum <- select_data_sum + sum(data$nitrate)
}
select_data_sum/observations
setwd("..")
}
pollutantmean("specdata", "sulfate", 1:10)
rm(list = ls())
pollutantmean <- function(directory, pollutant, id = 1:332){
## directory : "specdata"
## pollutant : "sulfate" or "nitrate"
## id : integer between 1 : 332
observations <- 0
select_data_sum <- 0
setwd(file.path("~/Desktop/R programming",directory))
for (i in id){
id_format <- formatC(format = "d",i,flag = "0", width = 3) # width = ceiling(log10(max(id)))
csv_file  <- read.csv(paste(id_format,".csv",sep = ""), header = TRUE)
}
data <- na.omit(csv_file)
observations <- observations + nrow(data)
if (pollutant == "sulfate") {
select_data_sum <- select_data_sum + sum(data$sulfate)
}
if (pollutant == "nitrate") {
select_data_sum <- select_data_sum + sum(data$nitrate)
}
return(select_data_sum/observations)
setwd("..")
}
pollutantmean("specdata", "sulfate", 1:10)
pollutantmean("specdata", "nitrate", 70:72)
pollutantmean("specdata", "nitrate", 23)
rm(list = ls())
pollutantmean <- function(directory, pollutant, id = 1:332){
## directory : "specdata"
## pollutant : "sulfate" or "nitrate"
## id : integer between 1 : 332
observations <- 0
select_data_sum <- 0
setwd(file.path("~/Desktop/R programming",directory))
for (i in id){
id_format <- formatC(format = "d",i,flag = "0", width = 3) # width = ceiling(log10(max(id)))
csv_file  <- read.csv(paste(id_format,".csv",sep = ""), header = TRUE)
}
data <- na.omit(csv_file)
observations <- observations + nrow(data)
if (pollutant == "sulfate") {
select_data_sum = select_data_sum + sum(data$sulfate)
}
if (pollutant == "nitrate") {
select_data_sum = select_data_sum + sum(data$nitrate)
}
return(select_data_sum/observations)
setwd("..")
}
pollutantmean("specdata", "sulfate", 1:10)
rm(list = ls())
pollutantmean <- function(directory, pollutant, id = 1:332){
## directory : "specdata"
## pollutant : "sulfate" or "nitrate"
## id : integer between 1 : 332
observations <- 0
select_data_sum <- 0
setwd(file.path("~/Desktop/R programming",directory))
for (i in id) {
id_format <- formatC(format = "d",i,flag = "0", width = 3) # width = ceiling(log10(max(id)))
csv_file  <- read.csv(paste(id_format,".csv",sep = ""), header = TRUE)
data <- na.omit(csv_file)
observations = observations + nrow(data)
if (pollutant == "sulfate") {
select_data_sum = select_data_sum + sum(data$sulfate)
}
if (pollutant == "nitrate") {
select_data_sum = select_data_sum + sum(data$nitrate)
}
}
return(select_data_sum/observations)
setwd("..")
}
pollutantmean("specdata", "sulfate", 1:10)
pollutantmean("specdata", "nitrate", 70:72)
rm(list = ls())
pollutantmean <- function(directory, pollutant, id = 1:332){
## directory : "specdata"
## pollutant : "sulfate" or "nitrate"
## id : integer between 1 : 332
observations <- 0
select_data_sum <- 0
setwd(file.path("~/Desktop/R programming",directory))
for (i in id) {
id_format <- formatC(format = "d",i,flag = "0", width = 3) # width = ceiling(log10(max(id)))
csv_file  <- read.csv(paste(id_format,".csv",sep = ""), header = TRUE)
# data <- na.omit(csv_file)
# observations = observations + nrow(data)
#
# if (pollutant == "sulfate") {
#     select_data_sum = select_data_sum + sum(data$sulfate)
# }
# if (pollutant == "nitrate") {
#     select_data_sum = select_data_sum + sum(data$nitrate)
# }
observations = observations + sum(csv_file[[pollutant]], na.rm = TRUE)
select_data_sum = select_data_sum + sum(!is.na(csv_file[[pollutant]]))
}
return(select_data_sum/observations)
setwd("..")
}
pollutantmean("specdata", "sulfate", 1:10)
rm(list = ls())
pollutantmean <- function(directory, pollutant, id = 1:332){
## directory : "specdata"
## pollutant : "sulfate" or "nitrate"
## id : integer between 1 : 332
observations <- 0
select_data_sum <- 0
setwd(file.path("~/Desktop/R programming",directory))
for (i in id) {
id_format <- formatC(format = "d",i,flag = "0", width = 3) # width = ceiling(log10(max(id)))
csv_file  <- read.csv(paste(id_format,".csv",sep = ""), header = TRUE)
# data <- na.omit(csv_file)
# observations = observations + nrow(data)
#
# if (pollutant == "sulfate") {
#     select_data_sum = select_data_sum + sum(data$sulfate)
# }
# if (pollutant == "nitrate") {
#     select_data_sum = select_data_sum + sum(data$nitrate)
# }
observations = observations + sum(csv_file[[pollutant]], na.rm = TRUE)
select_data_sum = select_data_sum + sum(!is.na(csv_file[[pollutant]]))
}
return(select_data_sum/observations)
setwd("..")
}
rm(list = ls())
pollutantmean <- function(directory, pollutant, id = 1:332){
## directory : "specdata"
## pollutant : "sulfate" or "nitrate"
## id : integer between 1 : 332
observations <- 0
select_data_sum <- 0
setwd(file.path("~/Desktop/R programming",directory))
for (i in id) {
id_format <- formatC(format = "d",i,flag = "0", width = 3) # width = ceiling(log10(max(id)))
csv_file  <- read.csv(paste(id_format,".csv",sep = ""), header = TRUE)
# data <- na.omit(csv_file)
# observations = observations + nrow(data)
#
# if (pollutant == "sulfate") {
#     select_data_sum = select_data_sum + sum(data$sulfate)
# }
# if (pollutant == "nitrate") {
#     select_data_sum = select_data_sum + sum(data$nitrate)
# }
observations = observations + sum(!is.na(csv_file[[pollutant]]))
select_data_sum = select_data_sum + sum(csv_file[[pollutant]], na.rm = TRUE)
}
return(select_data_sum/observations)
setwd("..")
}
pollutantmean("specdata", "sulfate", 1:10)
pollutantmean("specdata", "nitrate", 70:72)
pollutantmean("specdata", "nitrate", 23)
pollutantmean("specdata", "sulfate", 1:10)
pollutantmean("specdata", "nitrate", 70:72)
pollutantmean("specdata", "sulfate", 34)
pollutantmean("specdata", "nitrate")
?complete.cases
rm(list = ls())
complete <- function(directory, id = 1:332) {
## directory : "specdata"
## id : integer between 1 : 332
setwd(file.path("~/Desktop/R programming",directory))
for (i in seq_along(id)) {
id_format <- formatC(format = "d",i,flag = "0", width = 3) # width = ceiling(log10(max(id)))
csv_file  <- read.csv(paste(id_format,".csv",sep = ""), header = TRUE)
nobs[i] = sum(complete.cases(csv_file))
}
setwd("..")
}
complete("specdata", 1)
rm(list = ls())
complete <- function(directory, id = 1:332) {
## directory : "specdata"
## id : integer between 1 : 332
setwd(file.path("~/Desktop/R programming",directory))
nobs = vector("numeric", length = length(id))
for (i in seq_along(id)) {
id_format <- formatC(format = "d",i,flag = "0", width = 3) # width = ceiling(log10(max(id)))
csv_file  <- read.csv(paste(id_format,".csv",sep = ""), header = TRUE)
nobs[i] = sum(complete.cases(csv_file))
}
setwd("..")
}
complete("specdata", 30:25)
nobs
rm(list = ls())
complete <- function(directory, id = 1:332) {
## directory : "specdata"
## id : integer between 1 : 332
setwd(file.path("~/Desktop/R programming",directory))
nobs = vector("numeric", length = length(id))
for (i in seq_along(id)) {
id_format <- formatC(format = "d",i,flag = "0", width = 3) # width = ceiling(log10(max(id)))
csv_file  <- read.csv(paste(id_format,".csv",sep = ""), header = TRUE)
nobs[i] = sum(complete.cases(csv_file))
}
data.frame(id = id, nobs = nobs)
setwd("..")
}
complete("specdata", 1)
data
data
rm(list = ls())
complete <- function(directory, id = 1:332) {
## directory : "specdata"
## id : integer between 1 : 332
dataframe = NULL
setwd(file.path("~/Desktop/R programming",directory))
for (i in seq_along(id)) {
id_format <- formatC(format = "d",i,flag = "0", width = 3) # width = ceiling(log10(max(id)))
csv_file  <- read.csv(paste(id_format,".csv",sep = ""), header = TRUE)
dataframe = rbind(dataframe,c(i,sum(complete.cases(csv_file))))
}
dataframe = data.frame(dataframe)
names(dataframe) = c("id","nobs")
return(dataframe)
setwd("..")
}
complete("specdata", 1)
complete("specdata", c(2, 4, 8, 10, 12))
rm(list = ls())
complete <- function(directory, id = 1:332) {
## directory : "specdata"
## id : integer between 1 : 332
dataframe = NULL
setwd(file.path("~/Desktop/R programming",directory))
for (i in id) {
id_format <- formatC(format = "d",i,flag = "0", width = 3) # width = ceiling(log10(max(id)))
csv_file  <- read.csv(paste(id_format,".csv",sep = ""), header = TRUE)
dataframe = rbind(dataframe,c(i,sum(complete.cases(csv_file))))
}
dataframe = data.frame(dataframe)
names(dataframe) = c("id","nobs")
return(dataframe)
setwd("..")
}
complete("specdata", c(2, 4, 8, 10, 12))
complete("specdata", 30:25)
complete("specdata", 3)
cc <- complete("specdata", c(6, 10, 20, 34, 100, 200, 310))
print(cc$nobs)
complete("specdata", 54)
set.seed(42)
cc <- complete("specdata", 332:1)
use <- sample(332, 10)
print(cc[use, "nobs"])
?set.seed
x <- set.seed(42)
View(cc)
View(cc)
?cor
id_format <- formatC(format = "d",20,flag = "0", width = 3)
csv_file  <- read.csv(paste(id_format,".csv",sep = ""), header = TRUE)
complete.cases(csv_file)
xx <- complete.cases(csv_file)
yy <- csv_file(complete.cases(csv_file),2)
data = csv_file(complete.cases(csv_file))
data = csv_file[complete.cases(csv_file)]
data <- na.omit(csv_file)
data <- csv_file[,complete.cases(csv_file)]
data <- csv_file[complete.cases(csv_file),]
View(data)
cor(data$sulfate, data$nitrate)
rm(list = ls())
corr <- function(directory, threshold = 0) {
## directory : "specdata"
## threshold :
correlation = NULL
setwd(file.path("~/Desktop/R programming",directory))
for (i in 1:332) {
id_format <- formatC(format = "d",i,flag = "0", width = 3) # width = ceiling(log10(max(id)))
csv_file  <- read.csv(paste(id_format,".csv",sep = ""), header = TRUE)
if (sum(complete.cases(csv_file)) > threshold) {
data = csv_file[complete.cases(csv_file), ]
correlation = c(correlation, cor(data$sulfate, data$nitrate))
}
}
return(correlation)
setwd("..")
}
cr <- corr("specdata", 150)
head(cr)
summary(cr)
cr <- corr("specdata", 400)
head(cr)
summary(cr)
cr <- corr("specdata", 5000)
summary(cr)
cr <- corr("specdata")
summary(cr)
length(cr)
cr <- corr("specdata")
cr <- sort(cr)
set.seed(868)
out <- round(cr[sample(length(cr), 5)], 4)
print(out)
cr <- corr("specdata", 129)
cr <- sort(cr)
n <- length(cr)
set.seed(197)
out <- c(n, round(cr[sample(n, 5)], 4))
print(out)
cr <- corr("specdata", 2000)
n <- length(cr)
cr <- corr("specdata", 1000)
cr <- sort(cr)
print(c(n, round(cr, 4)))
x <- list(a = 1:5, b = rnorm(10))
lapply(x,mean)
